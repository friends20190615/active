package com.active.common.utils;import com.active.common.init.SpringInit;import com.active.front.service.VisitService;import com.google.common.util.concurrent.AtomicLongMap;/** * map 缓存 * * @author ta * @date 2019/7/4 下午11:44 * @since 1.0 */public class MapCache {    private static AtomicLongMap<String> map = AtomicLongMap.create();    public synchronized static AtomicLongMap<String> instance(String time){       return getData(time);    }    private static AtomicLongMap<String> getData(String time){        if(map.get(time) == 0){            VisitService visitService = (VisitService) SpringInit.getApplicationContext().getBean("visitService");            Integer count = visitService.getCountByTime(time);            map.addAndGet(time,count);        }        return map;    }}