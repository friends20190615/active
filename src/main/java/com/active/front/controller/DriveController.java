package com.active.front.controller;import com.active.bean.DriveInfo;import com.active.front.service.DriveService;import com.alibaba.fastjson.JSONObject;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.ResponseBody;import javax.servlet.http.HttpServletRequest;/** * 预约试驾controller * * @author ta * @date 2019/7/1 下午11:12 * @since 1.0 */@Controller@RequestMapping("/drive")public class DriveController {    private final static Logger logger = LoggerFactory.getLogger(DriveController.class);    @Autowired    private DriveService driveService;    @RequestMapping("newMember")    @ResponseBody    public String pullNewMember(DriveInfo driveInfo, HttpServletRequest request){        JSONObject res = new JSONObject();        res.put("code", 0);        res.put("msg", "success");        try {            DriveInfo exit =driveService.getInfo(driveInfo);            if(exit ==null){                driveService.insertInfo(driveInfo);            }else{                //已经存在                res.put("code", 5);                res.put("msg", "success");            }        }catch (Exception e){            logger.error("error："+e.getMessage());            res.put("code", -1);            res.put("msg", "error");        }        return res.toJSONString();    }}